# Project Overview – `devops-rampup`

## Architecture Summary

This project follows a **hexagonal architecture** with two main components:

| Component            | Role                          | Location                            |
|----------------------|-------------------------------|-------------------------------------|
| `movie-analyst-api`  | Backend API + DB access       | `devops-rampup/movie-analyst-api/` |
| `movie-analyst-ui`   | Frontend + view rendering     | `devops-rampup/movie-analyst-ui/`  |
| MySQL Database       | Persistent data storage       | AWS RDS (external)                  |

---

## File Structure

```bash
devops-rampup/
├── movie-analyst-api/          # Backend API
│   ├── server.js               # Express server
│   ├── seeds.js                # DB seed script
│   ├── schema.png              # DB schema diagram
│   ├── package.json
│   └── test/                   # Unit/integration tests
├── movie-analyst-ui/           # Frontend UI
│   ├── server.js               # Express + EJS server
│   ├── public/views/*.ejs      # Templates
│   └── package.json
└── docs/                       # Documentation & diagrams
```
## Dependencies

### Backend – movie-analyst-api
- Express → API routing
- MySQL → Database client
- Auth0 JWT → Token validation
- Mocha + Chai + Supertest → Testing
- Jenkins/JUnit reporters → CI integration

```json
"dependencies": {
  "auth0-api-jwt-rsa-validation": "0.0.1",
  "express": "^4.15.2",
  "express-jwt": "^5.3.0",
  "mysql": "^2.14.1"
},
"devDependencies": {
  "mocha": "^3.3.0",
  "mocha-jenkins-reporter": "^0.3.8",
  "mocha-junit-reporter": "^1.13.0",
  "chai": "^3.5.0",
  "chai-http": "^2.0.1",
  "should": "^11.2.1",
  "supertest": "^3.0.0"
}
```
### Frontend – movie-analyst-ui
- Express → Serve views
- EJS → Templating
- Superagent → API calls

```json
"dependencies": {
  "ejs": "^2.5.7",
  "express": "^4.15.4",
  "superagent": "^3.6.0"
}
```

## Networking & Ports

| Component | Port | Purpose             |
|-----------|------|---------------------|
| Frontend  | 3030 | Web server for UI   |
| Backend   | 3000 | REST API server     |
| MySQL DB  | 3306 | Standard MySQL port |

---

## Infrastructure Implications

- Security Groups → Open ports 3030, 3000, 3306 only where required.
- Subnets → Backend and DB must run in private subnets.
- NAT Gateway → Required for outbound internet access from private subnets.
- Load Balancer → Routes traffic to frontend (3030) and backend (3000).
- Bastion Host → Provides SSH access and Ansible execution.
- Ansible → Installs Node.js, dependencies, and deploys services.
- RDS MySQL → Must be reachable only from backend EC2.
- Terraform → Defines VPC, subnets, EC2, RDS, Load Balancer, and Security Groups.
